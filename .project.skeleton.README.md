# {Vendor} {Project} Overview

 * [Project Confluence Page]({add link to project confluence})

## Local Installation

you can use [Vagrant](https://www.vagrantup.com/):
```
$ cp Vagrantfile.dist Vagrantfile
```

Review the IP address and hostname found in `Vagrantfile`, and update if required:
```
config.vm.network "private_network", ip: "192.168.33.4"
```
```
config.vm.hostname = "myproject.test"
```

Once you're ready, you can create your VM.
```
$ vagrant up
```

While your VM is running, you can ssh into it using:
```
$ vagrant ssh
```

### Build steps:

The following steps can be run from within your VM (if you ssh into it), or from your local machine (if you have the
appropriate libraries available).

Run composer
```
$ composer install
```

Install yarn dependencies
```
$ yarn
```

Create a .env file from the template
```
$ cp .env.dist .env
```

You will need to ssh into your VM at this point (if you haven't already).

(Optional) Create a .vm_aliases file from .vm_aliases.dist
```
$ cp .vm_aliases.dist .vm_aliases
```

Run a dev/build
```
# Without alias
$ vendor/bin/sake dev/build flush=1

# With alias
$ dbf
```

### Environment variables

- `SS_MFA_SECRET_KEY`: [Configure this](https://github.com/silverstripe/silverstripe-totp-authenticator#configuration) to use multi factor authentication. Ensure you create encryption keys for UAT and Production on your Silverstripe Cloud stack (These are generated automatically for CWP stacks). Note: If UAT/Prod have the same secret key, snapshotting between environments allows CMS users to use the same MFA credentials.

## Available Build Tools

* `yarn` install dependencies
* `yarn dev` builds dev js and scss
* `yarn watch` same as `yarn dev` but watches for changes
* `yarn production` minifies production files
* `yarn prod` alias for `yarn production`
* `yarn lint` lints js and scss
* `yarn hot` **unsupported** hot module reloading

### Other tools and commands

* `composer silverstripe-standards` run all coding standards checks, including linters (php, js, scss)
* `composer phpcs-fix` run code-sniffer fixer

## Further Documentation and How to
* [Adding CWP and/or watea theme](docs/cwp.md)
* [Coding standards](docs/coding-standards.md)
* [Git - best practices](docs/git.md)
* [Git - actions](docs/actions.md)
* [Acceptance Testing with Cypress](docs/cypress.md)
* [Vue - Setup/Removal](docs/vue-setup.md)
* [Vue - Unit Testing](docs/vue-test.md)
* [Maintaining a reusable component Library with Storybook](docs/storybook.md)
* [Installing github actions](docs/actions.md)
* [Namespacing](docs/namespacing.md)
* [Preinstall Modules](docs/preinstalled-modules.md)
* [XDebug](docs/xdebug.md)
